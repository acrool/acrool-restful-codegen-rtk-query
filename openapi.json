{
  "openapi": "3.0.1",
  "info": {
    "title": "測試",
    "description": "",
    "version": "1.0.0"
  },
  "tags": [],
  "paths": {
    "/auth/sign/login": {
      "post": {
        "summary": "登入",
        "deprecated": false,
        "description": "## roleType\n- Customer 老闆\n- Inspector 觀察員",
        "tags": [],
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJhb"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "account": {
                    "description": "帳號",
                    "example": "inspector02",
                    "type": "string"
                  },
                  "password": {
                    "description": "密碼",
                    "example": "aa1234",
                    "type": "string"
                  }
                }
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tokenInfo": {
                      "type": "object",
                      "properties": {
                        "accessToken": {
                          "type": "string"
                        },
                        "refreshToken": {
                          "type": "string"
                        }
                      },
                      "required": ["accessToken", "refreshToken"]
                    },
                    "roleType": {
                      "type": "string",
                      "description": "角色類型"
                    },
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["tokenInfo", "message", "roleType"]
                },
                "example": {
                  "tokenInfo": {
                    "accessToken": "eyJ",
                    "refreshToken": "ey"
                  },
                  "roleType": "Inspector",
                  "message": "已為您成功登入"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/auth/sign/refresh": {
      "post": {
        "summary": "刷新",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "refreshToken": {
                    "description": "更新用Token",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxOTE2MjM5MDIyfQ.DGme0_qbXW79j7VftKA1L1b6qugxEJ6-nqcmnvmi7DA",
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tokenInfo": {
                      "type": "object",
                      "properties": {
                        "accessToken": {
                          "type": "string"
                        },
                        "refreshToken": {
                          "type": "string"
                        }
                      },
                      "required": ["accessToken", "refreshToken"]
                    }
                  },
                  "required": ["tokenInfo"]
                },
                "example": "{\n    \"tokenInfo\": {\n        \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoyMDE2MjM5MDIyfQ.c_JmIjneon_KvqjNU2MvZPAzyml8xT6ATc93TzfziKY\",\n        \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoyMTE2MjM5MDIyfQ.0EJEtX7fkwx-pnYF-Wah1JDu6w6AI7SqXQqLll4EIKc\"\n    },\n}"
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/parameter/operators": {
      "get": {
        "summary": "查詢 所有老闆",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "rows": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "description": "ID"
                          },
                          "name": {
                            "type": "string"
                          }
                        },
                        "required": ["id", "name"]
                      },
                      "description": "角色列表"
                    }
                  },
                  "required": ["rows"]
                },
                "example": {
                  "rows": [
                    {
                      "id": "a1",
                      "name": "GGO"
                    },
                    {
                      "id": "a2",
                      "name": "EVO"
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/parameter/common": {
      "get": {
        "summary": "查詢 參數/通用參數",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "auditStatus": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Param"
                      },
                      "description": "狀態"
                    },
                    "templates": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Param"
                      },
                      "description": "範本"
                    },
                    "areas": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Param"
                      },
                      "description": "區域"
                    }
                  },
                  "required": ["auditStatus", "templates", "areas"]
                },
                "example": {
                  "auditStatus": [
                    {
                      "code": "STATUS_1",
                      "name": "觀察中"
                    },
                    {
                      "code": "STATUS_2",
                      "name": "觀察完成"
                    },
                    {
                      "code": "STATUS_3",
                      "name": "老闆簽名"
                    }
                  ],
                  "templates": [
                    {
                      "code": "TEMPLATE_1",
                      "name": "GGO-通用模板"
                    },
                    {
                      "code": "TEMPLATE_2",
                      "name": "SS-通用模板"
                    }
                  ],
                  "areas": [
                    {
                      "code": "A1",
                      "name": "新北市"
                    },
                    {
                      "code": "A2",
                      "name": "桃竹苗"
                    },
                    {
                      "code": "A3",
                      "name": "中彰投"
                    },
                    {
                      "code": "A4",
                      "name": "雲嘉"
                    },
                    {
                      "code": "A5",
                      "name": "台南"
                    },
                    {
                      "code": "A6",
                      "name": "高屏"
                    },
                    {
                      "code": "A7",
                      "name": "宜花東"
                    },
                    {
                      "code": "A8",
                      "name": "離島"
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/auth/password": {
      "put": {
        "summary": "更改密碼",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "oldPassword": {
                    "description": "舊密碼",
                    "example": "",
                    "type": "string"
                  },
                  "newPassword": {
                    "description": "新密碼",
                    "example": "",
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["message"]
                },
                "example": {
                  "message": "已為您更改密碼"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/auth/sign/logout": {
      "post": {
        "summary": "登出",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["message"]
                },
                "example": {
                  "message": "已為您成功登出"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit": {
      "get": {
        "summary": "查詢 觀察表列表",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "currentPage",
            "in": "query",
            "description": "第幾頁",
            "required": true,
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "pageLimit",
            "in": "query",
            "description": "一頁幾筆",
            "required": true,
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "stationName",
            "in": "query",
            "description": "站點名稱",
            "required": false,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "operatorId",
            "in": "query",
            "description": "老闆ID",
            "required": false,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "statusId",
            "in": "query",
            "description": "觀察狀態",
            "required": false,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "templateId",
            "in": "query",
            "description": "樣板ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "auditStartDate",
            "in": "query",
            "description": "觀察日期(開始)",
            "required": false,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "auditEndDate",
            "in": "query",
            "description": "觀察日期(結束)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "areaCode",
            "in": "query",
            "description": "區域代碼",
            "required": false,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "rows": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/AuditRows"
                      }
                    },
                    "paginateInfo": {
                      "$ref": "#/components/schemas/PaginateInfo"
                    },
                    "paginateMeta": {
                      "$ref": "#/components/schemas/PaginateMeta"
                    }
                  },
                  "required": ["rows", "paginateInfo", "paginateMeta"]
                },
                "example": {
                  "rows": [
                    {
                      "id": "78084f65-f455-41db-9167-51e9af552750",
                      "auditDate": "2025-01-29",
                      "operatorName": "GGO",
                      "status": "觀察完成",
                      "stationName": "城市車旅台南",
                      "isManagerSignature": false,
                      "isAuditSignature": true,
                      "isOperatorSignature": false,
                      "updaterName": "Kavin",
                      "updatedAt": "2025-04-01 11:02:20"
                    },
                    {
                      "id": "9567d6d0-b4a5-4f90-accd-17c96e727a3b",
                      "auditDate": "2025-02-01",
                      "operatorName": "EVO",
                      "status": "觀察中",
                      "stationName": "第三核能發電廠站",
                      "isManagerSignature": false,
                      "isAuditSignature": false,
                      "isOperatorSignature": false,
                      "updaterName": "Keria",
                      "updatedAt": "2025-04-02 22:10:10"
                    },
                    {
                      "id": "b7d708b5-efce-4fc2-b5c3-2aa831e6590e",
                      "auditDate": "2025-02-03",
                      "operatorName": "GGO",
                      "status": "老闆簽名",
                      "stationName": "城市車旅高雄",
                      "isManagerSignature": false,
                      "isAuditSignature": false,
                      "isOperatorSignature": false,
                      "updaterName": "Kavin",
                      "updatedAt": "2025-04-05 09:53:50"
                    }
                  ],
                  "paginateInfo": {
                    "totalItems": 94,
                    "totalPages": 46
                  },
                  "paginateMeta": {
                    "currentPage": 1,
                    "pageLimit": 10
                  }
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "post": {
        "summary": "新增 觀察表",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "templateId": {
                    "description": "範本ID",
                    "example": "樣板ID",
                    "type": "string"
                  },
                  "operatorId": {
                    "description": "老闆ID",
                    "example": "老闆ID",
                    "type": "string"
                  },
                  "stationName": {
                    "description": "站點名稱",
                    "example": "城市車旅台南",
                    "type": "string"
                  },
                  "auditDate": {
                    "description": "觀察日期",
                    "example": "2025-04-01",
                    "type": "string"
                  },
                  "areaCode": {
                    "description": "區域代碼",
                    "example": "A01",
                    "type": "string"
                  }
                },
                "required": ["templateId"]
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    },
                    "newId": {
                      "type": "string",
                      "description": "新的ID"
                    }
                  },
                  "required": ["message", "newId"]
                },
                "example": {
                  "message": "成功新增觀察表",
                  "newId": "4325a111-2e86-4aa2-a003-9f553384c114"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}": {
      "get": {
        "summary": "查詢 觀察表",
        "deprecated": false,
        "description": "選項文字如出現 `#text#` 須替代成文字輸入框\n",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "觀察表Id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditDetail"
                },
                "example": {
                  "operatorName": "GGO",
                  "stationName": "台南車亭籃球場",
                  "auditDate": "2025-04-01",
                  "remark": "2/18再確認",
                  "auditSignatureUrl": "data:image/svg+xml;base64,ICAgIDxzdmcgdmlld0JveD0i3OCBaIj48L3BhdGg+PC9zdmc+Cg==",
                  "questions": [
                    {
                      "qId": "1c185880-662c-49bd-a57d-6f79afeecc15",
                      "description": "1.睡覺系統",
                      "isDone": false,
                      "content": "1.1充電樁功率(符合APP)<br />是否正常送電 <span style=\"color: red;\">(AC螢幕顯示【待機中】、DC螢幕顯示【就緒】)</span>",
                      "attachMode": 3,
                      "order": 1,
                      "options": [
                        {
                          "optId": "5d4b8b07-dd10-4ebd-b8a4-d9a200e5e921",
                          "type": 1,
                          "label": "是",
                          "value": "1",
                          "order": 1
                        },
                        {
                          "optId": "8fbcb21a-798e-41eb-821d-6d7df616685b",
                          "type": 1,
                          "label": "否",
                          "value": "0",
                          "order": 2
                        }
                      ],
                      "value": {
                        "single": "1",
                        "multiple": null,
                        "plainTxt": null,
                        "richTxt": null
                      },
                      "annex": [
                        {
                          "fid": "bc0ff39a-03d1-45ce-b7ae-ce37824a0ead",
                          "src": "files/inspector/file01.jpg",
                          "name": "file01",
                          "mime": "image/jpeg",
                          "order": 1
                        },
                        {
                          "fid": "4feeb780-b1d3-4801-ae93-6ef3e271b25f",
                          "src": "files/inspector/file02.png",
                          "name": "file png",
                          "mime": "image/png",
                          "order": 2
                        }
                      ]
                    },
                    {
                      "qId": "2db25c7e-096a-4370-8911-928801e411e1",
                      "description": "7.滅火器",
                      "isDone": true,
                      "content": "7.1滅火器/<span style=\"color: red;\">滅火毯(拍照)<br />需張貼充電樁專用貼紙</span>",
                      "attachMode": 3,
                      "order": 2,
                      "options": [
                        {
                          "optId": "bf94b93a-58c1-467a-91cc-b83d38cfd047",
                          "type": 1,
                          "label": "無",
                          "value": "0",
                          "order": 1
                        },
                        {
                          "optId": "9070f410-6e3b-4b97-84c9-19e15415d3a7",
                          "type": 1,
                          "label": "有。#text#支/件,存放位置#text#,到期日#text#",
                          "value": "1",
                          "order": 2
                        }
                      ],
                      "value": {
                        "single": "1",
                        "multiple": null,
                        "plainTxt": null,
                        "richTxt": ["10", "置物箱內", "2030.01.01"]
                      },
                      "annex": null
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "put": {
        "summary": "更新 觀察表/步驟表",
        "deprecated": false,
        "description": "若為複選/含單個核選框答題模式，答案值請用半形「,」分隔 (ex：1,3,5)\n答題模式為「文字-複合文字」，答案依照順序排列，並用半形「#」分隔。(ex：10#置物箱內#2030.01.01)\n**不允許使用者輸入保留符號「#」**",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "觀察表ID",
            "required": true,
            "example": "1c185880-662c-49bd-a57d-6f79afeecc15",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "question": {
                    "$ref": "#/components/schemas/UpdateAuditQuestion"
                  }
                },
                "required": ["question"]
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["message"]
                },
                "example": {
                  "message": "成功更新觀察表"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "post": {
        "summary": "<暫時不用>完成 觀察表 (含所有題目更新)",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "questions": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/UpdateAuditQuestion"
                    },
                    "description": "問題回答"
                  },
                  "remark": {
                    "type": "string",
                    "description": "備註"
                  },
                  "auditSignature": {
                    "type": "string",
                    "format": "binary",
                    "description": "觀察人員簽名"
                  },
                  "managerSignature": {
                    "type": "string",
                    "format": "binary",
                    "description": "現場人員簽名"
                  }
                }
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    },
                    "newId": {
                      "type": "string",
                      "description": "新的ID"
                    }
                  },
                  "required": ["message", "newId"]
                },
                "example": {
                  "message": "成功更新觀察表"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/profile": {
      "put": {
        "summary": "更新 觀察表/Profile",
        "deprecated": false,
        "description": "若為複選/含單個核選框答題模式，答案值請用半形「,」分隔 (ex：1,3,5)\n答題模式為「文字-複合文字」，答案依照順序排列，並用半形「#」分隔。(ex：10#置物箱內#2030.01.01)\n**不允許使用者輸入保留符號「#」**",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "觀察表ID",
            "required": true,
            "example": "1c185880-662c-49bd-a57d-6f79afeecc15",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "areaCode": {
                    "description": "區域代號",
                    "example": "A01",
                    "type": "string"
                  },
                  "stationName": {
                    "description": "站點名稱",
                    "example": "城市車旅台南",
                    "type": "string"
                  }
                },
                "required": ["areaCode"]
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["message"]
                },
                "example": {
                  "message": "成功更新觀察表"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/auditSignature": {
      "post": {
        "summary": "觀察人員簽名",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "auditSignature": {
                    "format": "binary",
                    "type": "string",
                    "description": "觀察人員簽名",
                    "example": ""
                  },
                  "remark": {
                    "description": "備註",
                    "example": "",
                    "type": "string"
                  }
                }
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    },
                    "newId": {
                      "type": "string",
                      "description": "新的ID"
                    }
                  },
                  "required": ["message", "newId"]
                },
                "example": {
                  "message": "完成現場人員簽名"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/managerSignature": {
      "post": {
        "summary": "現場人員簽名",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "managerSignature": {
                    "format": "binary",
                    "type": "string",
                    "description": "現場人員簽名",
                    "example": ""
                  }
                }
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    },
                    "newId": {
                      "type": "string",
                      "description": "新的ID"
                    }
                  },
                  "required": ["message", "newId"]
                },
                "example": {
                  "message": "完成現場人員簽名"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/exportAudit": {
      "post": {
        "summary": "匯出 觀察表(PDF)",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "匯出檔案名稱"
                    },
                    "mimeType": {
                      "type": "string",
                      "description": "檔案MIME TYPE"
                    },
                    "buffer": {
                      "type": "string",
                      "description": "Buffer"
                    },
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["name", "mimeType", "buffer", "message"]
                },
                "example": {
                  "name": "audit-GGO_20250129_城市車旅台南.pdf",
                  "mimeType": "application/pdf",
                  "buffer": "JVBERi0xLjQKJdPr6eEKMSU9GCg==",
                  "message": "成功匯出觀察表"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/exportAssets": {
      "post": {
        "summary": "匯出 觀察表(資源)",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "匯出檔案名稱"
                    },
                    "mimeType": {
                      "type": "string",
                      "description": "檔案MIME TYPE"
                    },
                    "buffer": {
                      "type": "string",
                      "description": "Buffer"
                    },
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["name", "mimeType", "buffer", "message"]
                },
                "example": {
                  "name": "audit-GGO_20250129_城市車旅台南.zip",
                  "mimeType": "application/zip",
                  "buffer": "JVBERi0xLjQKJdPr6eEKMS2NDg3CiUlRU9GCg==",
                  "message": "成功匯出觀察表資源"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/annex": {
      "delete": {
        "summary": "刪除 觀察表佐證附檔",
        "deprecated": false,
        "description": "刪除觀察單檢附檔案",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "觀察單單號",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "type": "object",
                "properties": {
                  "fId": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "附件檔案代碼",
                    "example": ["附檔案ID"]
                  }
                }
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["message"]
                },
                "example": {
                  "message": "成功刪除附加檔案"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/operatorPassword": {
      "get": {
        "summary": "查詢 觀察的老闆密碼",
        "deprecated": false,
        "description": "選項文字如出現 `#text#` 須替代成文字輸入框\n",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "觀察表Id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "operatorName": {
                      "type": "string",
                      "description": "名稱"
                    },
                    "password": {
                      "type": "string",
                      "description": "密碼"
                    }
                  },
                  "required": ["operatorName", "password"]
                },
                "example": {
                  "operatorName": "GGO",
                  "password": "1234"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/exportReport": {
      "post": {
        "summary": "匯出 觀察報表(Excel)",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "stationName": {
                    "description": "站點名稱",
                    "example": "",
                    "type": "string"
                  },
                  "operatorId": {
                    "description": "老闆ID",
                    "example": "",
                    "type": "string"
                  },
                  "statusId": {
                    "description": "觀察狀態",
                    "example": "",
                    "type": "string"
                  },
                  "templateId": {
                    "description": "樣板ID",
                    "example": "",
                    "type": "string"
                  },
                  "auditStartDate": {
                    "description": "觀察日期(開始)",
                    "example": "",
                    "type": "string"
                  },
                  "auditEndDate": {
                    "description": "觀察日期(結束)",
                    "example": "",
                    "type": "string"
                  },
                  "areaCode": {
                    "description": "區域代碼",
                    "example": "",
                    "type": "string"
                  }
                }
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "匯出檔案名稱"
                    },
                    "mimeType": {
                      "type": "string",
                      "description": "檔案MIME TYPE"
                    },
                    "buffer": {
                      "type": "string",
                      "description": "Buffer"
                    },
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["name", "mimeType", "buffer", "message"]
                },
                "example": {
                  "name": "audit-GGO_20250129_城市車旅台南.pdf",
                  "mimeType": "application/vnd.ms-excel",
                  "buffer": "JVBERi0xLjQKJdPr6e==",
                  "message": "成功匯出觀察表"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/invalid": {
      "post": {
        "summary": "作廢 觀察單",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "description": "原因",
                    "example": "",
                    "type": "string"
                  }
                }
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["message"]
                },
                "example": {
                  "message": "成功作廢"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/audit/{id}/returns": {
      "post": {
        "summary": "退件 觀察單",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "description": "原因",
                    "example": "",
                    "type": "string"
                  }
                },
                "required": ["reason"]
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["message"]
                },
                "example": {
                  "message": "成功退件"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/operatorId/audit/{id}/signature": {
      "post": {
        "summary": "老闆簽名觀察表",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "signature": {
                    "format": "binary",
                    "type": "string",
                    "description": "老闆簽名",
                    "example": ""
                  }
                }
              },
              "examples": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "description": "訊息"
                    }
                  },
                  "required": ["message"]
                },
                "example": {
                  "message": "成功簽名觀察表"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/operatorId/audit/{id}": {
      "get": {
        "summary": "查詢 觀察表(使用密碼)",
        "deprecated": false,
        "description": "",
        "tags": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "觀察表Id",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "password",
            "in": "query",
            "description": "老闆簽核碼",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Client-Id",
            "in": "header",
            "description": "",
            "example": "5000EA53752D4FEA95FA878E3C56F83F",
            "schema": {
              "type": "string",
              "default": "5000EA53752D4FEA95FA878E3C56F83F"
            }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "",
            "example": "Bearer eyJheyJhbG",
            "schema": {
              "type": "string",
              "default": "Bearer eyJheyJhbG"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuditDetail"
                },
                "example": {
                  "operatorName": "GGO",
                  "stationName": "台南車亭籃球場",
                  "auditDate": "2025-04-01",
                  "remark": "2/18再確認",
                  "auditSignatureUrl": "data:image/svg+xml;base64,ICAgIDxzdmcgdmlld0JveD0iMCAwIDM2NiAzMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICAgICAgPHBhdGg+PC9wYXRoPjxwYXRoIGQ9Ik0gMyA5Mi42MzE0MzQyODg4MTM3OCBaIj48L3BhdGg+PC9zdmc+Cg==",
                  "questions": [
                    {
                      "qId": "1c185880-662c-49bd-a57d-6f79afeecc15",
                      "description": "1.睡覺系統",
                      "content": "1.1充電樁功率(符合APP)<br />是否正常送電 <span style=\"color: red;\">(AC螢幕顯示【待機中】、DC螢幕顯示【就緒】)</span>",
                      "attachMode": 3,
                      "order": 1,
                      "options": [
                        {
                          "optId": "5d4b8b07-dd10-4ebd-b8a4-d9a200e5e921",
                          "type": 1,
                          "label": "是",
                          "value": "1",
                          "order": 1
                        },
                        {
                          "optId": "8fbcb21a-798e-41eb-821d-6d7df616685b",
                          "type": 1,
                          "label": "否",
                          "value": "0",
                          "order": 2
                        }
                      ],
                      "value": {
                        "single": "1",
                        "multiple": null,
                        "plainTxt": null,
                        "richTxt": null
                      },
                      "annex": [
                        {
                          "fid": "bc0ff39a-03d1-45ce-b7ae-ce37824a0ead",
                          "src": "files/inspector/file01.jpg",
                          "name": "file01",
                          "mime": "image/jpeg",
                          "order": 1
                        },
                        {
                          "fid": "4feeb780-b1d3-4801-ae93-6ef3e271b25f",
                          "src": "files/inspector/file02.png",
                          "name": "file png",
                          "mime": "image/png",
                          "order": 2
                        }
                      ]
                    },
                    {
                      "qId": "2db25c7e-096a-4370-8911-928801e411e1",
                      "description": "7.滅火器",
                      "content": "7.1滅火器/<span style=\"color: red;\">滅火毯(拍照)<br />需張貼充電樁專用貼紙</span>",
                      "attachMode": 3,
                      "order": 2,
                      "options": [
                        {
                          "optId": "bf94b93a-58c1-467a-91cc-b83d38cfd047",
                          "type": 1,
                          "label": "無",
                          "value": "0",
                          "order": 1
                        },
                        {
                          "optId": "9070f410-6e3b-4b97-84c9-19e15415d3a7",
                          "type": 1,
                          "label": "有。#text#支/件,存放位置#text#,到期日#text#",
                          "value": "1",
                          "order": 2
                        }
                      ],
                      "value": {
                        "single": "1",
                        "multiple": null,
                        "plainTxt": null,
                        "richTxt": ["10", "置物箱內", "2030.01.01"]
                      },
                      "annex": null
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    }
  },
  "components": {
    "schemas": {
      "PaginateMeta": {
        "type": "object",
        "properties": {
          "currentPage": {
            "type": "number",
            "description": "目前頁面"
          },
          "pageLimit": {
            "type": "number",
            "description": "一次顯示幾筆"
          }
        },
        "required": ["currentPage", "pageLimit"],
        "description": "分頁中繼"
      },
      "PaginateInfo": {
        "type": "object",
        "properties": {
          "totalItems": {
            "type": "number",
            "description": "總筆數"
          },
          "totalPages": {
            "type": "number",
            "description": "總頁數"
          }
        },
        "required": ["totalItems", "totalPages"],
        "description": "分頁資訊"
      },
      "AuditRows": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "operatorName": {
            "type": "string",
            "description": "老闆名稱"
          },
          "status": {
            "type": "string",
            "description": "狀態",
            "title": "陳曉琪"
          },
          "stationName": {
            "type": "string",
            "description": "站點名稱",
            "title": "女"
          },
          "areaName": {
            "type": "string",
            "description": "區域名稱"
          },
          "auditDate": {
            "type": "string",
            "description": "建立日期"
          },
          "isManagerSignature": {
            "type": "boolean",
            "description": "現場人員是否簽名"
          },
          "isAuditSignature": {
            "type": "boolean",
            "description": "觀察員是否已簽名"
          },
          "isOperatorSignature": {
            "type": "boolean",
            "description": "老闆是否已簽名"
          },
          "updaterName": {
            "type": "string",
            "description": "更新者名稱"
          },
          "updatedAt": {
            "type": "string",
            "description": "更新時間"
          }
        },
        "required": [
          "id",
          "status",
          "stationName",
          "operatorName",
          "auditDate",
          "isManagerSignature",
          "updaterName",
          "updatedAt",
          "areaName",
          "isAuditSignature",
          "isOperatorSignature"
        ]
      },
      "Param": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "代碼"
          },
          "name": {
            "type": "string",
            "description": "名稱"
          }
        },
        "required": ["code", "name"]
      },
      "OperatorRows": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID"
          },
          "name": {
            "type": "string",
            "description": "老闆名稱"
          },
          "viewPassword": {
            "type": "string",
            "description": "文件審核密碼"
          }
        },
        "required": ["id", "name", "viewPassword"]
      },
      "AuditDetail": {
        "type": "object",
        "properties": {
          "operatorName": {
            "type": "string",
            "description": "老闆名稱"
          },
          "stationName": {
            "type": "string",
            "description": "站點名稱"
          },
          "auditDate": {
            "type": "string",
            "description": "觀察日期"
          },
          "areaName": {
            "type": "string",
            "description": "區域名稱"
          },
          "areaCode": {
            "type": "string",
            "description": "區域代碼"
          },
          "remark": {
            "type": "string",
            "description": "備註"
          },
          "auditSignatureUrl": {
            "type": "string",
            "description": "觀察員簽名檔網址"
          },
          "managerSignatureUrl": {
            "type": "string",
            "description": "現場人員簽名檔網址"
          },
          "operatorSignatureUrl": {
            "type": "string",
            "description": "老闆簽名檔網址"
          },
          "questions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "qId": {
                  "type": "string",
                  "description": "題目 ID"
                },
                "description": {
                  "type": "string",
                  "description": "題目類別描述"
                },
                "isDone": {
                  "type": "boolean",
                  "description": "是否已完成"
                },
                "content": {
                  "type": "string",
                  "description": "題目內容 (含 HTML 標籤)"
                },
                "attachMode": {
                  "type": "integer",
                  "description": "選項附件上傳模式 (1：不限、2：單檔、3：多檔) "
                },
                "order": {
                  "type": "integer",
                  "description": "顯示順序"
                },
                "options": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "optId": {
                        "type": "string",
                        "description": "選項 ID"
                      },
                      "type": {
                        "type": "integer",
                        "description": "選項類型 ( 1：單選、2：複選 / 含單個核選框、3：文字-純文字、4：文字-複合文字)"
                      },
                      "label": {
                        "type": "string",
                        "description": "選項文字"
                      },
                      "value": {
                        "type": "string",
                        "description": "選項值"
                      },
                      "order": {
                        "type": "integer",
                        "description": "選項顯示順序"
                      }
                    },
                    "required": ["optId", "type", "value", "order"]
                  },
                  "description": "答題選項"
                },
                "value": {
                  "description": "已填寫答案",
                  "$ref": "#/components/schemas/AuditDetailValue"
                },
                "annex": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AuditDetailAnnex"
                  },
                  "description": "附件"
                }
              },
              "required": ["qId", "content", "attachMode", "order", "value", "isDone"]
            },
            "description": "題目清單"
          }
        },
        "required": [
          "questions",
          "operatorName",
          "stationName",
          "auditDate",
          "remark",
          "auditSignatureUrl",
          "managerSignatureUrl",
          "operatorSignatureUrl",
          "areaName",
          "areaCode"
        ]
      },
      "AuditDetailValue": {
        "type": "object",
        "properties": {
          "single": {
            "type": "string",
            "description": "單選值",
            "nullable": true
          },
          "multiple": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "多選值",
            "nullable": true
          },
          "plainTxt": {
            "type": "string",
            "description": "純文字",
            "nullable": true
          },
          "richTxt": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "複合文字 (依複合文字順序依序填入)",
            "nullable": true
          }
        }
      },
      "AuditDetailAnnex": {
        "type": "object",
        "properties": {
          "fId": {
            "type": "string",
            "description": "檔案代碼"
          },
          "src": {
            "type": "string",
            "description": "開啟位置"
          },
          "name": {
            "type": "string",
            "description": "檔名"
          },
          "mime": {
            "type": "string",
            "description": "媒體類型",
            "nullable": true
          },
          "order": {
            "type": "integer",
            "description": "顯示順序"
          }
        },
        "required": ["fId", "name", "src", "mime", "order"]
      },
      "UpdateAuditQuestion": {
        "type": "object",
        "properties": {
          "qId": {
            "type": "string",
            "description": "題目代碼"
          },
          "valueSingle": {
            "type": "string",
            "description": "單選答案值"
          },
          "valueMultiple": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "多選答案值 (字串陣列)"
          },
          "valuePlainTxt": {
            "type": "string",
            "description": "純文字答案值"
          },
          "valueRichTxt": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "複合文字答案值 (字串陣列)"
          },
          "annex": {
            "type": "string",
            "format": "binary",
            "description": "檔案附件"
          }
        },
        "required": ["qId"]
      }
    },
    "securitySchemes": {}
  },
  "servers": []
}
